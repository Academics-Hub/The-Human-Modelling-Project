{"path":".obsidian/plugins/text-extractor/cache/4dcb1ad4c9f169b9a1d1e9b347fb682d.json","text":"Enhancement of the Essential Tremor ’finger tap test’ through a diagnostic device that incorporates signal processing methods ELEN3008 - Biomedical Measurement, Instrumentation and Imaging : Laboratory Project JONATHAN FALLER (2432985) School of Electrical & Information Engineering University of the Witwatersrand Johannesburg, South Africa Abstract Essential tremor (ET) is a form of tremor often misdiagnosed as Parkinson tremor or other forms of tremor. Existing methods of clinical diagnosis, are too qualitative to provide definitive diagnosis, and so the development of tools to aid the clinician is necessary. Through the use of an Arduino Nano 33 BLE and PmodACL2 digital accelerometer, the frequency spectra was analysed and displayed in a developed app, designed to be user friendly to the clinician. The Cross Spectral Density (CSD) analysis of the various Power Spectrum Densities (PSD) was found to be an effective tool of identifying frequency peaks compared to a non-ET input, in the 6-12Hz range. This was tested on a resting input, a different non-ET input, and a simulated ET input, and effectively identified the ET input, while not misinterpreting the other inputs. I. Introduction E SSENTIAL TREMOR (ET) is a neurological syn- drome, defined by Assistant Professor V. Shanker [1] as a bilateral upper extremity action tremor. It is regarded as an extremely common movement disorder, which has an increasing likelihood of occurring with age. While there are clinical manifestations, the device introduced in this report is aimed at aiding the diagnostic of ET in limb tremor. Other forms of ET are: Head tremor, Chin/Jaw tremor, and Vocal tremor. The possibility of exploring how the methods applied in this report will be described. A. Diagnostic methods The diagnosis of ET is regarded as clinical, with little to no quantitative means of definitive diagnosis. Family history, and alcohol responsiveness are helpful clinical met- rics, however these features are not specific to ET [1]. Two (2) common methods of clinical diagnosis are described: 1) The finger tap test : The finger tap test [2] involves the clinician instructing the patient to rapidly tap their forefinger and thumb together. While often used qualita- tively, relying on the visual acuity of the clinician, fre- quency analysis methods are emerging to quantify this [3]. 2) The spiral drawing test : In the spiral drawing test, the patient is asked to draw an Archimedean spiral as well as they can. The shakiness of the line drawn provides a qualitative impression of whether they may have a tremor [4]. This can also be used for a frequency analysis to quantitatively find identifying frequency ranges for tremor. Both tests present a promising way of distinguishing ET from other tremors, such as Parkinson tremor (PT), and Dystonic tremor (DT). B. Treatment methods Orally ingested drugs are the main method of treatment. These include non-selective β adrenergic receptor antago- nists, β blockers such as Propranolol, anticonvulsants, and anti psychotics. Chemodenervation, surgical intervention, and lifestyle-management modalities can also be consid- ered. This report is focused on diagnosis and so treatment will not be discussed further. C. Purpose This project aimed to develop a device, and accompany- ing software to aid the clinician in diagnostic of ET, and differentiation from other associated tremors. This was to be done through signal processing methods, utilising the transform from time-frequency domain, to infer diagnostic significance. II. Methods In order to distinguish between ET and Parkinson’s tremor, as well as aid in the quantitative diagnosis of ET, the following methods were used: An accelerometer was used to gather change in posi- tional data, during the finger tap test. This data was then sent through a microprocessor, and loaded into a computer application. The computer application then conditioned, processed, an analysed the frequency spectrum of the data, in order to make conclusions on whether the input was representative of ET. III. Design and Implementation The design chosen for the project was motivated by simplicity and ease of use, with the aim of developing a cost-effective solution, which could be used by any clinician with minimal training. A cost analysis can be seen in appendix A. It was decided that instead of introducing more possible points of physical device breakdowns, to simplify imple- mentation, and to reduce production costs, the physical device would consist of the least possible components. This meant that the device itself would be responsible for acquisition of the initial, time-domain, signal. The microprocessor provided a means of transporting that measurement data to a computer, where the signal con- ditioning and processing, and information presentation stages would be then digitally implemented. A. Component Choice For this device, two (2) components had to be decided on: 1) Microprocessor : The Arduino Nano 33 BLE (BLE) [5] was chosen for the microprocessor. This was due to its performance:price ratio. While not the cheapest processor on the market, it provides excellent processing power at its price range. It makes use of an Arm Cortex M4 cpu, which has a 32-bit resolution. This means that the device has a great capacity for expansion in both complexion and use case, with simple software updates giving clinicians more and more use out of the device. 2) Measurement device : The PmodACL2 [6] was a provided component, and is a good choice of accelerometer for its price. It provides 12-bit digital output, simplifying data acquisition. It does put a 12-bit limit on resolution, and so the 32-bit resolution of the BLE isn’t as useful as previously thought. However, the capacity for expansion is once again excellent. Clinicians requiring even higher accuracy, could, in the future, be provided with a higher resolution accelerometer with a software update to the device. B. Circuit Design Due to the simple nature of the physical device, a simple circuit was all that was required. Figure 1, shows the connections that need to be made between the BLE and PmodACL2. A text pin-pin description is provided: 1 Arduino Nano 33 BLE PmodACL2 CS CLK MISO MOSI +3.3V GND Fig. 1: Circuit diagram of implemented design TABLE I: Pin-pin connection description for BLE-PmodACL2 Connection BLE(pin) PmodACL2(pin) CS 28(D10) 1 SCK 1(D13) 2 MOSI 29(D11) 3 MISO 30(D12) 4 VCC 2 5 GND 14/19 6 This design makes use of the Serial Peripheral Inter- face (SPI) for synchronisation of information between the PmodACL2 and BLE. C. Application Design Firstly, the backend application was designed. Fig- ure 2 shows the application flow through the various files (project available at https://github.com/JonoLF/ EssentialTremour_diagnostic_device. Two entry points into the application were designed: 1) User hits record button a) app.py will create a patient object. b) The patient object then creates portListner and arduino objects, which find the port the BLE is connected to the computer from, and read the information entering the serial port respectively. c) The patient object returns the time-domain info to app.py. d) app.py then creates an analysis object, which uses functions from signalProcessing.py and plot.py to return plots and signal analysis Fig. 2: Application flowchart 2 Fig. 3: Application screenshot showing input signal, PSD, and analysis for PmodACL2 at rest information to app.py for presentation to the user. 2) User imports CSV a) The time domain information is read in from a .csv file. b) Step d) from the previous entry point is carried out the same way. D. 3D Housing Design The 3D design for the housings for the PmodACLS and BLE were done using Tinkercad [7]. E. Embedded Software The code embedded on the BLE was simple to implement, it required the use of the Nano33BLE_System.h library, the SPI.h library, and the ADXL362.h library. The collectdata.ino file can be found in the repos- itory (https://github.com/JonoLF/Essentialtremor_ diagnostic_device). F. Signal Conditioning and Processing Conditioning and processing were done using the Scipy.signal library [8]. 1) Conditioning : An anti-aliasing filter was imple- mented over the 3.8-100Hz band. This was done to elim- inate both DC noise, and to prevent high frequencies from interfering with the signal. Smaller bandwidths were attempted but over-filtered the signal, making it difficult to analyse. This was done using a 12th oder chebyshev filter, at a sampling frequency of 250Hz (by the Nyquist theorem, in order for fs 2 > highestf requency(100Hz)). from scipy import signal filter_band = signal.cheby1(12, 1, [3.8, 100], ’bp’, fs=250, output=’sos’) filteredSignal = signal.sosfilt(filter_band , self.data) 2) Processing : The Power Spectrum Density (PSD) of a reference signal (a measurement taken from an individual not diagnosed with ET) and the PSD of the incoming signal were taken and a Cross Spectral Density (CSD) analysis was done. This allowed identification of whether the signal had peaks in the frequency range of ET. The spectrum differs slight in the literature from paper to paper, but was chosen to be 6-12Hz [1], [9]. This then generates a report for each patient, aiding the clinician in their decision to send their patient for further testing, by telling them whether the PSD is consistent with the expected frequencies for ET. IV. Testing and Results Several tests were performed: leaving the device at rest, a simulated ET, and a normal reading are worth discussion. When the PmodACL2 was left at rest for 30 seconds (Figure 3), the test aimed to establish two (2) things: 1) Whether DC noise was being adequately filtered 2) Whether the application was able to deal with longer than ten (10) second readings. Normal readings are ten (10) seconds, however if the clinician so chooses, any time-frame may be used for the reading (perhaps for visual, qualitative analysis additional to the ap- plication and device). The test was successful, and proved that DC noise from external, environmental are not interfering with readings (note that values for the vertical position were not shown, as we were only interested in the frequency of movements, 3 Fig. 4: Application screenshot showing input signal, PSD, and analysis for an individual without ET not how large they were. Although the original signal still displays a change in vertical position, this is not important. What is important is the smoothness. We can qualitatively determine that the signal is indeed being filtered. Additionally in the analysis (bottom of figure 3) it has been stated that there is no ET, proving that any vibrations from the surface the PmodACL2 was placed on (and inevitably caused some tremor-like movement) were filtered out and were not mistaken for ET. The next test, was to take measurement from an indi- vidual that did not have ET. This was done on the author and colleague. This established a baseline, and presents itself as a useful reference signal (see section III-F2). The application and device was successful in recognising that this was in fact, a normal signal, and did not misinterpret it as ET. At this point in testing we had now established that resting PmodACL2 and non-ET signals are handled accordingly (see figure 4. The final test was to attempt to simulate an ET signal. This had to be done, as no clinical trials were ethically cleared for this testing, and so testing on an individual diagnosed with ET would have been out of the question. Fig. 5: Application screenshot showing input signal, PSD, and analysis for a simulated ET 4 This was done by emulating the sporadic muscle con- tractions associated with ET, and appears successful as the application indicates significant spikes at 7.81Hz and 10.16Hz (seen in figure 5), both within the range of ET as defined in the literature [1], [9](see section III for more information). V. Recommendation for future improvements This device and software could be greatly improved by linking read in patient-inputs, confirmed by a clinician into a central database for the training of a machine learning (ML) model, for faster, more accurate identification of the identifying frequencies of ET. The significance of ML in the area of ET and Parkinson Tremor differentiation has been demonstrated by Cheng et. al [10], in their paper on using biomarkers from Magnetic Resonance Imaging (MRI) to train ML models. VI. Conclusion Essential tremor (ET) was defined as a bilateral upper extremity action tremor, and the current clinical diagnosis and treatment modalities were discussed. The need for the device designed in this project was identified as an aid in quantitative diagnostic methods and in differentiation between ET and other similar manifesting tremors. It was outlined that this was to be done using signal processing methods to analyse the frequencies produced from the common finger tap test, and the methods, design and implementation of that were discussed. The future use of machine learning to enhance the previously discussed methods was recommended. Finally, it was found to be an effective device and application, successfully differen- tiating between resting data, normal non-ET data, and simulated ET data. References [1] V. Shanker, “Essential tremor: diagnosis and management,” BMJ, vol. 366, 2019. [2] M. Bartl, R. Kewitsch, M. Hallett, M. Tegenthoff, and W. Paulus, “Diagnosis and therapy of functional tremor a systematic review illustrated by a case report,” Neurological Research and Practice, vol. 2, p. 35, 2020. [3] V. Krsmanović, M. Djuric-Jovicic, N. Jarrasse, M. Jecmenica- Lukic, I. Petrovic, S. Radovanović, N. Dragasevic, and V. Kostić, “Spectral parameters for finger tapping quantifica- tion,” Facta universitatis - series: Electronics and Energetics, vol. 30, pp. 585–597, 01 2017. [4] D. Surangsrirat, A. Intarapanich, C. Thanawattano, R. Bhi- dayasiri, S. Petchrutchatachart, and C. Anan, “Tremor assess- ment using spiral analysis in time-frequency domain,” pp. 1–6, 04 2013. [5] “Arduino nano 33 ble.” https://docs.arduino.cc/hardware/nano- 33-ble. [6] “Pmod acl2: 3-axis mems accelerometer.” https://digilent.com/reference/pmod/pmodacl2/start. [7] “Tinkercad.” https://www.tinkercad.com. Accessed May 20, 2023. [8] “Signal processing (scipy.signal).” https://docs.scipy.org/doc/scipy/reference/signal.html. [9] “Essential tremor.” https://www.ncbi.nlm.nih.gov/books/NBK499986/. [10] F. Cheng, Y. Duan, H. Jiang, Y. Zeng, X. Chen, L. Qin, L. Zhao, F. Yi, Y. Tang, and C. Liu, “Identifying and distinguishing of essential tremor and parkinson’s disease with grouped stability analysis based on searchlight-based mvpa,” Biomed Eng Online, vol. 21, no. 1, p. 81, 2022. 5 Appendix A Cost Analysis TABLE II: Cost analysis of device implementation Item Quantity Cost Site Arduino Nano 33 BLE 1 R477.09 (at an exchange rate of R20.92 to the Euro) https://store.arduino.cc/products/ arduino-nano-33-ble PmodACL2 1 R330,85 (at an exchange rate of R19.47 to the US Dollar) https://digilent.com/shop/ pmod-acl2-3-axis-mems-accelerometer/ 3D printing 2 R50 Wrist and finger strap 2 R20 TOTAL 6 R882,84 i Appendix B Task Distribution TABLE III: Task distribution Task Assigned Initial research and outline Dinal Nagar, Jonathan Faller High level design and flow charts Dinal Nagar App design Jonathan Faller 3D housing design Dinal Nagar Signal acquisition Dinal Nagar Signal conditioning Jonathan Faller Signal processing Dinal Nagar Display of results Jonathan Faller 3D housing printing Dinal Nagar Testing Dinal Nagar, Jonathan Faller ii Appendix C Time Chart iii Appendix D Final product Fig. 6: Image of the final device, seated in its 3D printed housing iv","libVersion":"0.2.2","langs":""}